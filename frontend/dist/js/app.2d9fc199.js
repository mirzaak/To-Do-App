(function(){"use strict";var e={2155:function(e,n,t){var o=t(9242),a=t(3396);function r(e,n){const t=(0,a.up)("router-view");return(0,a.wg)(),(0,a.j4)(t)}var l=t(89);const i={},s=(0,l.Z)(i,[["render",r]]);var u=s,c=t(2483),p=(t(7658),t(7139)),d=t(4870);const h=e=>((0,a.dD)("data-v-6d97cda6"),e=e(),(0,a.Cn)(),e),v={action:"post"},f=["onKeyup"],g=h((()=>(0,a._)("p",null,"Already have an account?",-1))),m=h((()=>(0,a._)("p",{id:"login"},"Login!",-1)));var y={__name:"Register",setup(e){const n=(0,c.tv)(),t=(0,d.iH)(""),r=(0,d.iH)(""),l=(0,d.iH)(""),i=(0,d.iH)(""),s=()=>{fetch("http://127.0.0.1:8000/api/users/register/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t.value,email:"",password:r.value})}).then((e=>e.json())).then((e=>{e.username&&(l.value=e.username[0]),e.password&&(i.value=e.password[0]),e.hasOwnProperty("user")&&n.push("/login"),console.log(e)}))};return(e,n)=>{const u=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("form",v,[(0,a.wy)((0,a._)("input",{type:"text",name:"username",placeholder:"Your Username","onUpdate:modelValue":n[0]||(n[0]=e=>t.value=e)},null,512),[[o.nr,t.value]]),(0,a._)("a",null,(0,p.zw)(l.value),1),(0,a.wy)((0,a._)("input",{type:"password",name:"password",placeholder:"Your Password","onUpdate:modelValue":n[1]||(n[1]=e=>r.value=e),onKeyup:(0,o.D2)(s,["enter"])},null,40,f),[[o.nr,r.value]]),(0,a._)("a",null,(0,p.zw)(i.value),1)]),(0,a._)("button",{onClick:n[2]||(n[2]=(0,o.iM)((e=>s()),["prevent"]))},"Register"),g,(0,a.Wm)(u,{to:"/login"},{default:(0,a.w5)((()=>[m])),_:1})])}}};const w=(0,l.Z)(y,[["__scopeId","data-v-6d97cda6"]]);var _=w;const k={class:"content"},b={action:"post"},O=["onKeyup"];var j={__name:"Login",setup(e){const n=(0,d.iH)(""),t=(0,d.iH)(""),r=(0,d.iH)(),l=(0,c.tv)(),i=()=>{fetch("http://127.0.0.1:8000/api/token/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n.value,email:"",password:t.value})}).then((e=>e.json())).then((e=>{s(e)})).catch((e=>{console.log("err",e)}))};function s(e,n){localStorage.setItem("access",e.access),localStorage.setItem("refresh",e.refresh),n&&n(),""==e.access&&void 0==e.access||l.push("/tasks")}return(e,l)=>((0,a.wg)(),(0,a.iD)("div",k,[(0,a._)("form",b,[(0,a.wy)((0,a._)("input",{type:"text",name:"username",placeholder:"Username","onUpdate:modelValue":l[0]||(l[0]=e=>n.value=e)},null,512),[[o.nr,n.value]]),(0,a.wy)((0,a._)("input",{type:"password",name:"password",placeholder:"Password","onUpdate:modelValue":l[1]||(l[1]=e=>t.value=e),onKeyup:(0,o.D2)(i,["enter"])},null,40,O),[[o.nr,t.value]])]),(0,a._)("button",{onClick:l[2]||(l[2]=(0,o.iM)((e=>i()),["prevent"]))},"Login"),(0,a._)("div",{id:"container",ref_key:"contentContainer",ref:r},null,512)]))}};const T=(0,l.Z)(j,[["__scopeId","data-v-7aa14394"]]);var C=T;const S=e=>((0,a.dD)("data-v-73884486"),e=e(),(0,a.Cn)(),e),D={id:"navbar"},I=S((()=>(0,a._)("h1",null,"Tasks",-1))),U={key:0},x={id:"content"},H=["onKeyup"],z=["onKeyup"],P={id:"taskWrapper"},K=["onClick","onUpdate:modelValue"],V={href:""},A=S((()=>(0,a._)("a",{href:""},"Â·",-1))),B={href:""},E=["onClick"];var L={__name:"Tasks",setup(e){const n=(0,c.tv)(),t=(0,d.iH)(),r=(0,d.XI)(""),l=(0,d.XI)(""),i=(0,d.XI)(),s=((0,d.iH)([]),(0,d.iH)()),u=()=>{t.value.push(JSON.stringify({title:r.value,description:l.value,done:i.value})),fetch("http://127.0.0.1:8000/api/tasks/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("access")}`},body:JSON.stringify({title:r.value,description:l.value,done:i.value})}).then((e=>e.json())).catch((e=>{console.log("err",e)}))},h=(e,n)=>{fetch("http://127.0.0.1:8000/api/tasks/"+e+"/destroy/",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("access")}`}}).then((e=>e.json())).catch((e=>{console.log("err",e)})),t.value.splice(t.value.indexOf(n),1)},v=(e,n)=>{fetch("http://127.0.0.1:8000/api/tasks/"+e+"/update/",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("access")}`},body:JSON.stringify({done:!n})}).then((e=>e.json())).catch((e=>{console.log("err",e)})),console.log(i.value)};const f=(e,o)=>{fetch("http://127.0.0.1:8000/api/tasks/",{method:null===e?"GET":e,headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("access")}`},body:o||null}).then((e=>e.json())).then((e=>{t.value=e,console.log(t.value),"token_not_valid"===t.value.code&&n.push("/login")}))},g=()=>{localStorage.clear(),n.push("/login")},m=()=>{fetch("http://127.0.0.1:8000/api/users/user/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("access")}`}}).then((e=>e.json())).then((e=>{s.value=e,console.log(s.value)}))};return f(),m(),(e,n)=>((0,a.wg)(),(0,a.iD)("main",null,[(0,a._)("div",D,[(0,a._)("h2",{id:"logOut",onClick:g},"Log Out"),I,s.value?((0,a.wg)(),(0,a.iD)("h2",U,(0,p.zw)(s.value.username),1)):(0,a.kq)("",!0)]),(0,a._)("div",x,[(0,a.wy)((0,a._)("input",{type:"text",placeholder:"New Task",id:"newTask","onUpdate:modelValue":n[0]||(n[0]=e=>(0,d.dq)(r)?r.value=e:null),onKeyup:(0,o.D2)(u,["enter"])},null,40,H),[[o.nr,(0,d.SU)(r)]]),(0,a.wy)((0,a._)("input",{type:"text",placeholder:"Description",id:"newDesc","onUpdate:modelValue":n[1]||(n[1]=e=>(0,d.dq)(l)?l.value=e:null),onKeyup:(0,o.D2)(u,["enter"])},null,40,z),[[o.nr,(0,d.SU)(l)]]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.value,(e=>((0,a.wg)(),(0,a.iD)("div",{id:"task",key:e},[(0,a._)("div",P,[(0,a.wy)((0,a._)("input",{type:"checkbox",id:"checkbox",onClick:n=>v(e.pk,e.done),"onUpdate:modelValue":n=>e.done=n},null,8,K),[[o.e8,e.done]]),(0,a._)("a",V,(0,p.zw)(e.title),1),A,(0,a._)("p",B,(0,p.zw)(e.description),1),(0,a._)("button",{id:"taskButton",onClick:n=>h(e.pk,e)},"Delete",8,E)])])))),128))])]))}};const N=(0,l.Z)(L,[["__scopeId","data-v-73884486"]]);var J=N;const $=[{path:"/register",name:"Register",component:_},{path:"/login",name:"Login",component:C},{path:"/tasks",name:"Tasks",component:J}],Z=(0,c.p7)({history:(0,c.PO)("/"),routes:$});var q=Z;(0,o.ri)(u).use(q).mount("#app")}},n={};function t(o){var a=n[o];if(void 0!==a)return a.exports;var r=n[o]={exports:{}};return e[o](r,r.exports,t),r.exports}t.m=e,function(){var e=[];t.O=function(n,o,a,r){if(!o){var l=1/0;for(c=0;c<e.length;c++){o=e[c][0],a=e[c][1],r=e[c][2];for(var i=!0,s=0;s<o.length;s++)(!1&r||l>=r)&&Object.keys(t.O).every((function(e){return t.O[e](o[s])}))?o.splice(s--,1):(i=!1,r<l&&(l=r));if(i){e.splice(c--,1);var u=a();void 0!==u&&(n=u)}}return n}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[o,a,r]}}(),function(){t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,{a:n}),n}}(),function(){t.d=function(e,n){for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){var e={143:0};t.O.j=function(n){return 0===e[n]};var n=function(n,o){var a,r,l=o[0],i=o[1],s=o[2],u=0;if(l.some((function(n){return 0!==e[n]}))){for(a in i)t.o(i,a)&&(t.m[a]=i[a]);if(s)var c=s(t)}for(n&&n(o);u<l.length;u++)r=l[u],t.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return t.O(c)},o=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))}();var o=t.O(void 0,[998],(function(){return t(2155)}));o=t.O(o)})();
//# sourceMappingURL=app.2d9fc199.js.map